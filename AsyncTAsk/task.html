<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Library Hub</h1>
    <input type="text" id="bookName">
    <button onclick="searchApi()">Get Book</button>
    <div>
        <h1 >Book Name: <span id="bName"></span></h1>
        <h1 >Pubslish Year : <span id="pYear"></span></h1>
       <div>
         <h3>Authors</h3>
        <ul id="result"></ul>
       </div>
    </div>
</body>
<script>
    const searchApi = async() => {
        if(bookName.value !== ""){
        try{
                let apiResponse = await fetch(`https://openlibrary.org/search.json?title=${bookName.value}`)
        let data = await apiResponse.json()
        // console.log(data.docs[0])
        let dataObj = data.docs
        console.log(dataObj[0])
        let authors = dataObj[0].author_name
        console.log(authors)
        bName.innerHTML = dataObj[0].title
        pYear.innerHTML = dataObj[0].first_publish_year
        authors.map((each) => (
            result.innerHTML += `<li>${each}</li>`
        ))
        }catch(err){
            console.log(err)
            console.log("Enter a Valid Book")
        }
        }else{
            alert('Enter the Book Name')
        }
    }
    
</script>
</html>